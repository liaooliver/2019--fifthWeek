<div class="row h-100">
    <div class="w60 pr-1">
        <div class="w100 h-100 image" [ngStyle]="{'background-image': 'url(' + imageUrl[2] + ')'}"></div>
    </div>
    <div class="w40">
        <div class="image sm-pic" [ngStyle]="{'background-image': 'url(' + imageUrl[0] + ')'}"></div>
        <div class="pt-1"></div>
        <div class="image sm-pic" [ngStyle]="{'background-image': 'url(' + imageUrl[1] + ')'}"></div>
    </div>
</div>

<div class="container my-5">
    <div class="row">
        <div class="col-8">
            <div class="row">
                <div class="col-9">
                    <h3 class="mb-5">{{ name }}</h3>
                    <app-separate [separate]="'客房資訊'"></app-separate>
                    <section class="my-5">
                        <div class="subTitle">描述</div>
                        <div>{{ description }}</div>
                    </section>
                    <section class="mb-5">
                        <div class="subTitle">入住資訊</div>
                        <ul>
                            <li>Check-in <span class="pl-2">{{ checkInAndOut.checkInEarly }} ~ {{ checkInAndOut.checkInLate }}</span></li>
                            <li>Check-out <span class="pl-2">{{ checkInAndOut.checkOut }}</span> 前</li>
                            <li>人數限制 <span class="pl-2">{{ descriptionShort.GuestMax }}</span> 人</li>
                            <li>客房大小 <span class="pl-2">{{ descriptionShort.Footage }}</span> 平方公尺</li>
                        </ul>
                    </section>
                    <section>
                        <div class="subTitle">客房設備</div>
                        <div class="px-5 py-4 bg-light">
                            <ul class="row m-0">
                                <li class="col-6 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path fill="none" d="M0 0h24v24H0z" />
                                        <path
                                            d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z" />
                                        </svg>
                                    <span class="pl-3">Wifi</span>
                                </li>
                                <li class="col-6 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path fill="none" d="M0 0h24v24H0V0z" />
                                        <path
                                            d="M2 17h20v2H2zm11.84-9.21c.1-.24.16-.51.16-.79 0-1.1-.9-2-2-2s-2 .9-2 2c0 .28.06.55.16.79C6.25 8.6 3.27 11.93 3 16h18c-.27-4.07-3.25-7.4-7.16-8.21z" />
                                        </svg>
                                    <span class="pl-3">客房服務</span>
                                </li>
                                <li class="col-6 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path
                                            d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z" />
                                        <path fill="none" d="M0 0h24v24H0z" /></svg>
                                    <span class="pl-3">早餐</span>
                                </li>
                                <li class="col-6 mb-3">
                                    <img width="24" src="assets/icons/icons8-fridge-100@2x.png">
                                    <span class="pl-3">迷你酒吧</span>
                                </li>
                                <li class="col-6 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path d="M0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z" />
                                        </svg>
                                    <span class="pl-3">電視</span>
                                </li>
                                <li class="col-6 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                        <path
                                            d="M2 6l6.99 7H2v3h9.99l7 7 1.26-1.25-17-17zm18.5 7H22v3h-1.5zM18 13h1.5v3H18zm.85-8.12c.62-.61 1-1.45 1-2.38h-1.5c0 1.02-.83 1.85-1.85 1.85v1.5c2.24 0 4 1.83 4 4.07V12H22V9.92c0-2.23-1.28-4.15-3.15-5.04zM14.5 8.7h1.53c1.05 0 1.97.74 1.97 2.05V12h1.5v-1.59c0-1.8-1.6-3.16-3.47-3.16H14.5c-1.02 0-1.85-.98-1.85-2s.83-1.75 1.85-1.75V2c-1.85 0-3.35 1.5-3.35 3.35s1.5 3.35 3.35 3.35zm2.5 7.23V13h-2.93z" />
                                        <path fill="none" d="M0 0h24v24H0z" /></svg>
                                    <span class="pl-3">禁止吸煙</span>
                                </li>
                            </ul>
                        </div>
                    </section>
                </div>
                <div class="col-3 text-right">
                    <h4 class="m-0">$ {{ price[0] }}</h4>
                    <p class="m-0 mb-2">平日(ㄧ～四)</p>
                    <h5 class="m-0">＄ {{ price[1] }}</h5>
                    <p class="m-0 ">假日(五～日)</p>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="booking p-4">
                <form [formGroup]="form" (ngSubmit)="onSubmit(form)">
                    <div>日期</div>
                    <mat-form-field class="w-100">
                        <input required matInput [min]="min" [max]="max" placeholder="入住 -> 退房" [satDatepicker]="picker2" formControlName="date" (dateChange)="rangeChange($event)">
                        <sat-datepicker #picker2 [rangeMode]="true" >
                        </sat-datepicker>
                        <sat-datepicker-toggle matSuffix [for]="picker2"></sat-datepicker-toggle>
                    </mat-form-field>
            
                    <div>房客</div>
                    <mat-form-field class="w-100">
                        <select matNativeControl required formControlName="number">
                            <option value="1">1 位</option>
                            <option value="2">2 位</option>
                            <option value="3">3 位</option>
                            <option value="4">4 位</option>
                        </select>
                    </mat-form-field>

                    <div *ngIf="totalPrice" class="mb-3">
                        <div *ngIf="normalDayPrice" class="d-flex justify-content-between mb-2">
                            <span>＄{{price[0]}} x {{normalDay}}晚</span>
                            <span>＄{{ normalDayPrice }}</span>
                        </div>
                        <div *ngIf="holidayPrice" class="d-flex justify-content-between mb-2">
                            <span>＄{{price[1]}} x {{holiday}}晚</span>
                            <span>＄{{ holidayPrice }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>總計</span>
                            <span class="text-warning">＄{{ totalPrice }}</span>
                        </div>
                    </div>

                    <div class="w-100">
                        <button class="" type="submit" class="bookBtn w-100 p-2" >預訂</button>
                    </div>
                </form >
            </div>
        </div>
    </div>
</div>

<div class="mask" *ngIf="showOrder">
</div>
<div class="showOrder p-4" *ngIf="showOrder">
    <div class="alert alert-danger" role="alert">
        {{ errorMsg }}
    </div>
    <h2>預約資料</h2>
    <div class="bg-light p-3 position-relative">
        <div class="success" *ngIf="success">
            <img width="30%" src='/assets/icons/successs.svg'>
            預約成功
        </div>
        <div class="mb-3">
            <label>日期</label>
            <div class="h3">{{ date[0] }} → {{ date[1] }}</div>
        </div>
        <div class="row mb-3">
            <div class="col-6">
                <label>房型</label>
                <div>{{ name }}</div>
            </div>
            <div class="col-6">
                <label>房客</label>
                <div>{{visitor}} 位</div>
            </div>
        </div>
        <div class="mb-3">
            <label>價錢</label>
            <div *ngIf="normalDayPrice" class="d-flex justify-content-between mb-2">
                <span>＄{{price[0]}} x {{normalDay}}晚</span>
                <span>＄{{ normalDayPrice }}</span>
            </div>
            <div *ngIf="holidayPrice" class="d-flex justify-content-between mb-2">
                <span>＄{{price[1]}} x {{holiday}}晚</span>
                <span>＄{{ holidayPrice }}</span>
            </div>
            <div class="d-flex justify-content-between">
                <span>總計</span>
                <span class="text-warning">＄{{ totalPrice }}</span>
            </div>
        </div>
    </div>
    <form>
        <mat-form-field class="w-100">
            <label>姓名</label>
            <input matInput [(ngModel)]="custom.name" name="name">
        </mat-form-field>
        <mat-form-field class="w-100">
            <label>電話</label>
            <input matInput [(ngModel)]="custom.tel" name="tel">
        </mat-form-field>
    </form>
    <div class="d-flex justify-content-between">
        <button class="btn btn-danger" (click)="cancel()">取消</button>
        <button class="btn btn-warning" (click)="booked()">送出</button>
    </div>
</div>
